<div class="product" data-id="product-{{product.id}}">
    <div class="card card-custom card-custom2" data-product-id="{{product.id}}">
        <div class="card-image">
            <a class="card-link" href="{{product.url}}">
                {{> components/common/responsive-img
                    image=product.main_image
                    class="card-image"
                    fallback_size=theme_settings.productgallery_size
                    lazyload=theme_settings.lazyload_mode
                    default_image=theme_settings.default_image_product
                }}
            </a>
        </div>
        <div class="card-content">
            {{#and (if product.brand) (if theme_settings.halo_card_brand)}}
                <p class="card-text" data-test-info-type="brandName">{{product.brand.name}}</p>
            {{/and}}
            <h4 class="card-title">
                {{#if theme_settings.halo_card_title '==' 'ellipsis'}}
                    <a href="{{product.url}}" class="card-ellipsis" style="-webkit-box-orient: vertical;">{{product.title}}</a>
                {{else}}
                    <a href="{{product.url}}">{{product.title}}</a>
                {{/if}}
            </h4>
            {{#and (if settings.show_product_rating) (if theme_settings.halo_card_ratings)}}
                <p class="card-rating" data-test-info-type="productRating">
                    <span class="rating--small">
                        {{> components/products/ratings rating=product.rating}}
                    </span>
                    {{#if product.num_reviews}}
                        <span class="rating--count">({{product.num_reviews}})</span>
                    {{/if}}
                </p>
            {{/and}}
            <div class="card-price" data-test-info-type="price">
                {{#or customer (if theme_settings.restrict_to_login '!==' true)}}
                    {{> components/products/price price=product.price}}
                {{else}}
                    {{> components/common/login-for-pricing}}
                {{/or}}
            </div>
            {{#if theme_settings.haloAddOptionForProduct}}
                <div class="card-option card-option-{{product.id}}">
                    {{> components/halothemes/halo-add-option-for-product}}
                </div>
            {{/if}}
            <a href="{{product.url}}" class="card-action">
                <span class="text">{{lang 'products.details_link2'}}</span>
            </a>
        </div>
    </div>
</div>
